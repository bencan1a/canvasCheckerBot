#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.03kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 DONE 0.6s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [ 1/13] FROM docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
#4 CACHED

#5 [internal] load build context
#5 transferring context: 1.08kB 0.5s done
#5 DONE 0.5s

#6 [ 2/13] RUN apk add --no-cache     python3     make     g++     bash     curl
#6 0.193 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/main/x86_64/APKINDEX.tar.gz
#6 0.245 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/community/x86_64/APKINDEX.tar.gz
#6 0.453 (1/38) Installing ncurses-terminfo-base (6.5_p20250503-r0)
#6 0.459 (2/38) Installing libncursesw (6.5_p20250503-r0)
#6 0.476 (3/38) Installing readline (8.2.13-r1)
#6 0.481 (4/38) Installing bash (5.2.37-r0)
#6 0.502 Executing bash-5.2.37-r0.post-install
#6 0.512 (5/38) Installing brotli-libs (1.1.0-r2)
#6 0.521 (6/38) Installing c-ares (1.34.5-r0)
#6 0.527 (7/38) Installing libunistring (1.3-r0)
#6 0.537 (8/38) Installing libidn2 (2.3.7-r0)
#6 0.543 (9/38) Installing nghttp2-libs (1.65.0-r0)
#6 0.547 (10/38) Installing libpsl (0.21.5-r3)
#6 0.551 (11/38) Installing zstd-libs (1.5.7-r0)
#6 0.558 (12/38) Installing libcurl (8.14.1-r1)
#6 0.567 (13/38) Installing curl (8.14.1-r1)
#6 0.577 (14/38) Installing libstdc++-dev (14.2.0-r6)
#6 0.669 (15/38) Installing jansson (2.14.1-r0)
#6 0.674 (16/38) Installing binutils (2.44-r2)
#6 0.720 (17/38) Installing libgomp (14.2.0-r6)
#6 0.728 (18/38) Installing libatomic (14.2.0-r6)
#6 0.732 (19/38) Installing gmp (6.3.0-r3)
#6 0.739 (20/38) Installing isl26 (0.26-r1)
#6 0.753 (21/38) Installing mpfr4 (4.2.1_p1-r0)
#6 0.761 (22/38) Installing mpc1 (1.3.1-r1)
#6 0.766 (23/38) Installing gcc (14.2.0-r6)
#6 1.296 (24/38) Installing musl-dev (1.2.5-r10)
#6 1.339 (25/38) Installing g++ (14.2.0-r6)
#6 1.501 (26/38) Installing make (4.4.1-r3)
#6 1.508 (27/38) Installing libbz2 (1.0.8-r6)
#6 1.512 (28/38) Installing libexpat (2.7.1-r0)
#6 1.516 (29/38) Installing libffi (3.4.8-r0)
#6 1.520 (30/38) Installing gdbm (1.24-r0)
#6 1.525 (31/38) Installing xz-libs (5.8.1-r0)
#6 1.530 (32/38) Installing mpdecimal (4.0.1-r0)
#6 1.535 (33/38) Installing libpanelw (6.5_p20250503-r0)
#6 1.540 (34/38) Installing sqlite-libs (3.49.2-r1)
#6 1.555 (35/38) Installing python3 (3.12.11-r0)
#6 1.668 (36/38) Installing python3-pycache-pyc0 (3.12.11-r0)
#6 1.737 (37/38) Installing pyc (3.12.11-r0)
#6 1.737 (38/38) Installing python3-pyc (3.12.11-r0)
#6 1.738 Executing busybox-1.37.0-r18.trigger
#6 1.753 OK: 276 MiB in 56 packages
#6 DONE 1.9s

#7 [ 3/13] WORKDIR /app
#7 DONE 0.1s

#8 [ 4/13] COPY package*.json ./
#8 DONE 0.1s

#9 [ 5/13] COPY tsconfig.json ./
#9 DONE 0.1s

#10 [ 6/13] RUN npm ci
#10 1.429 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#10 1.799 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#10 1.929 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#10 2.030 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#10 2.730 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#10 2.739 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#10 3.599 
#10 3.599 added 654 packages, and audited 655 packages in 3s
#10 3.599 
#10 3.599 106 packages are looking for funding
#10 3.599   run `npm fund` for details
#10 3.602 
#10 3.602 5 low severity vulnerabilities
#10 3.602 
#10 3.602 To address all issues (including breaking changes), run:
#10 3.602   npm audit fix --force
#10 3.602 
#10 3.602 Run `npm audit` for details.
#10 3.602 npm notice
#10 3.602 npm notice New major version of npm available! 10.8.2 -> 11.5.2
#10 3.602 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
#10 3.602 npm notice To update run: npm install -g npm@11.5.2
#10 3.602 npm notice
#10 DONE 3.9s

#11 [ 7/13] COPY src/ ./src/
#11 DONE 0.1s

#12 [ 8/13] COPY public/ ./public/
#12 DONE 0.1s

#13 [ 9/13] RUN npm run build
#13 0.270 
#13 0.270 > canvasbot@1.0.0 build
#13 0.270 > tsc
#13 0.270 
#13 1.643 src/rag/query-engine.ts(115,51): error TS2339: Property 'getProfile' does not exist on type 'StudentProfileManager'.
#13 1.643 src/rag/query-engine.ts(155,69): error TS2345: Argument of type 'ChatCommand' is not assignable to parameter of type 'string'.
#13 1.643 src/rag/query-engine.ts(157,11): error TS2322: Type '{ success: boolean; message: string; }' is not assignable to type 'string'.
#13 1.643 src/rag/vllm-query-engine.ts(139,51): error TS2339: Property 'getProfile' does not exist on type 'StudentProfileManager'.
#13 1.643 src/student-profile.ts(175,3): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(236,32): error TS2551: Property 'getProfile' does not exist on type 'StudentProfileManager'. Did you mean 'profiles'?
#13 1.643 src/student-profile.ts(417,7): error TS2353: Object literal may only specify known properties, and 'status' does not exist in type 'AcademicGoal'.
#13 1.643 src/student-profile.ts(433,32): error TS2551: Property 'getProfile' does not exist on type 'StudentProfileManager'. Did you mean 'profiles'?
#13 1.643 src/student-profile.ts(452,37): error TS7006: Parameter 'goal' implicitly has an 'any' type.
#13 1.643 src/student-profile.ts(514,18): error TS2339: Property 'academicGoals' does not exist on type 'StudentProfile'.
#13 1.643 src/student-profile.ts(515,15): error TS2339: Property 'academicGoals' does not exist on type 'StudentProfile'.
#13 1.643 src/student-profile.ts(518,13): error TS2339: Property 'academicGoals' does not exist on type 'StudentProfile'.
#13 1.643 src/student-profile.ts(527,3): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(540,11): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(544,11): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(548,11): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(552,11): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(559,11): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(570,11): error TS2393: Duplicate function implementation.
#13 1.643 src/student-profile.ts(624,11): error TS2322: Type '"studying"' is not assignable to type 'FocusArea'.
#13 1.643 src/student-profile.ts(625,11): error TS2322: Type '"organization"' is not assignable to type 'FocusArea'.
#13 1.643 src/student-profile.ts(830,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(841,12): error TS2678: Type '"studying"' is not comparable to type 'FocusArea'.
#13 1.644 src/student-profile.ts(844,12): error TS2678: Type '"organization"' is not comparable to type 'FocusArea'.
#13 1.644 src/student-profile.ts(857,12): error TS2678: Type '"visual"' is not comparable to type 'CommunicationStyle'.
#13 1.644 src/student-profile.ts(875,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(876,18): error TS2339: Property 'academicGoals' does not exist on type 'StudentProfile'.
#13 1.644 src/student-profile.ts(876,43): error TS2339: Property 'academicGoals' does not exist on type 'StudentProfile'.
#13 1.644 src/student-profile.ts(880,33): error TS2339: Property 'academicGoals' does not exist on type 'StudentProfile'.
#13 1.644 src/student-profile.ts(880,54): error TS7006: Parameter 'goal' implicitly has an 'any' type.
#13 1.644 src/student-profile.ts(887,25): error TS7006: Parameter 'goal' implicitly has an 'any' type.
#13 1.644 src/student-profile.ts(894,50): error TS7006: Parameter 'm' implicitly has an 'any' type.
#13 1.644 src/student-profile.ts(935,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(978,12): error TS2678: Type '"visual"' is not comparable to type 'CommunicationStyle'.
#13 1.644 src/student-profile.ts(996,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1102,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1106,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1110,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1114,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1118,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1150,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1166,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1198,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1211,11): error TS2393: Duplicate function implementation.
#13 1.644 src/student-profile.ts(1216,11): error TS2393: Duplicate function implementation.
#13 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 2
------
 > [ 9/13] RUN npm run build:
1.644 src/student-profile.ts(1102,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1106,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1110,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1114,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1118,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1150,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1166,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1198,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1211,11): error TS2393: Duplicate function implementation.
1.644 src/student-profile.ts(1216,11): error TS2393: Duplicate function implementation.
------
Dockerfile:26
--------------------
  24 |     
  25 |     # Build the application
  26 | >>> RUN npm run build
  27 |     
  28 |     # Remove dev dependencies after build
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 2
